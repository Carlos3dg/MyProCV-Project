const langStrings = [
    {
        es: 'Experiencia',
        en: 'Experience',
    },
    {
        es: 'Educación',
        en: 'Education',
    },
    {
        es: 'Conocimientos',
        en: 'Skills',
    },
    {
        es: 'Idiomas',
        en: 'Languages'
    },
    {
        es: 'Voluntariado',
        en: 'Volunteer'
    },
    {
        es: 'Desarrollador Web',
        en: 'Web Developer'
    },
    {
        es: 'Autodidacta',
        en: 'Self-taught'
    },
    {
        es: 'Innovador',
        en: 'Innovator'
    },
    {
        es: 'Soy un Desarrollador Frontend emocionado en la creación de UI y UX, un excelente Desarrollador JavaScript usando herramientas como React, React Router, Redux, y una persona autodidacta que nunca para de aprender.',
        en: 'I\'m a Frontend Web Developer excited about building significant UI and UX, an excellent JavaScript Developer using tools such as React, React Router, Redux, and a self-taught person who never stops learning.'
    },
    {
        es: 'Experiencia laboral',
        en: 'Work Experience'
    },
    {
        es: 'Practicante Desarrollador Web',
        en: 'Intern Web Developer'
    },
    {
        es: 'Agosto 2018 - Febrero 2019',
        en: 'August 2018 – February 2019'
    },
    {
        es: 'Administrar la página web de la empresa, diseñar nuevos landings, actualizar contenido, Responsive Web Design, soporte a diferentes navegadores, optimización SEO, reportes estadísticos del sitio (Google Analytics)',
        en: 'Give support to the company\'s web site, build new landings, update content, Responsive Web Design, optimize the site support for different browsers, set good practices in SEO, analyze data from Google Analytics.'
    },
    {
        es: 'Detalles',
        en: 'Details',
    },
    {
        es: 'Auxiliar Informático',
        en: 'IT Assistant'
    },
    {
        es: 'Universidad Tecmilenio',
        en: 'Tecmilenio University'
    },
    {
        es: 'Junio 2019 - Febrero 2021',
        en: 'June 2019 – February 2021'
    },
    {
        es: 'Servicio en soporte a colaboradores, maestros y alumnos, instalación y configuración de software, mantenimiento en hardware y redes, reparación de equipos de cómputo, elaboración de manuales de usuario.',
        en: 'Technical support service to employees, teachers, and students, software setup and configuration, hardware and network performance, computer equipment repair, user manual creation.'
    },
    {
        es: 'Educación',
        en: 'Education'
    },
    {
        es: 'Lic. En Sistemas de Computación Administrativa',
        en: 'Bachelor’s Degree in Administrative Computing Systems'
    },
    {
        es: 'Universidad Metropolitana de Monterrey',
        en: 'Monterrey Metropolitan University'
    },
    {
        es: 'Septiembre 2015 - Agosto 2018',
        en: 'September 2015 – August 2018'
    },
    {
        es: 'Técnico en Programación Web',
        en: 'Technical High School Degree in Web Programming'
    },
    {
        es: 'Preparatoria Técnica Álvaro Obregón',
        en: 'Álvaro Obregón Technical High School'
    },
    {
        es: 'Agosto 2011 - Junio 2014',
        en: 'August 2011 – June 2014'
    },
    {
        es: 'Conocimientos',
        en: 'Technical Skills'
    },
    {
        es: 'GIT y Github',
        en: 'GIT and Github'
    },
    {
        es: 'Inglés',
        en: 'English'
    },
    {
        es: 'Español',
        en: 'Spanish'
    },
    {
        es: 'JA México y Accenture México',
        en: 'JA Mexico and Accenture Mexico'
    },
    {
        es: 'Marzo 2017 - Junio 2017',
        en: 'March 2017 – June 2017'
    },
    {
        es: 'Trabajar en equipo, generar y recibir retroalimentación, creación, y desarrollo de una aplicación móvil que beneficie a la sociedad',
        en: 'Teamwork, provide and receive feedback, creation, and planning of a mobile application that benefits the society'
    },
    {
        es: 'Proyecto',
        en: 'Project'
    },
    {
        es: 'Portafolio',
        en: 'Portfolio'
    },
    {
        es: 'CV Website',
        en: 'Resume Website',
    },
    {
        es: 'Mi CV website es el proyecto sobre el cual se está navegando. Cuenta con funcionalidades elementales como cambiar el idioma, enviar correos al propietario, desglosar información en forma de gráficos, además de las funcionalidades básicas de un sitio estático. Construido únicamente con las tres principales tecnologías del Front-end (HTML, CSS y JavaScript).',
        en: 'My resume website is the project where you are navigating. It has elemental features like a language switcher, a contact option, or displaying information as a chart, besides the basic static website functionalities. It was built just with the main three front-end technologíes (HTML, CSS, and JavaScript).',
    },
    {
        es: 'Proyecto inspirado en Google Calendar. Calendar App nos ayuda a organizar tareas o eventos de forma detallada, eligiendo la hora de inicio y fin de estas y la cantidad de veces que queremos que se repitan. Cuenta con la simulación de un Login para acceder a las tareas únicamente cuando esté la sesión abierta y establece enrutadores, que ayudan al usuario a saber en qué lugar de la página se encuentra o notificarle si está en un lugar no indexado (Páginas 404). Este proyecto fue realizado con React, React Router y Redux, aplicando el principio de responsabilidad única.',
        en: 'A project inspired in Google Calendar. Calendar App helps us to manage tasks or events in a detailed way, selecting the start time and end time of these and the frequency that we want to repeat them. It has a Login simulation to allow access to the tasks only when the session is open and sets routers that help the user know which part of the page is or notify him when he is on a not indexed page (404 Page). This project was built with React, React Router, and Redux, using the Single Responsibility Principle.',
    },
    {
        es: 'Calendar App',
        en: 'Calendar App',
    },
    {
        es: 'Tarjeta Feria App',
        en: 'Public Transportation App'
    },
    {
        es: 'Proyecto que simula todo el Front-end de una App móvil, en el cual se puede navegar a través de diferentes secciones, realizar búsquedas con diferentes palabras clave, mostrar y ocultar información como menús, preguntas y respuestas, etc. Este proyecto fue realizado con HTML, CSS y JavaScript',
        en: 'This project tries to show the Front-end design and behavior of a mobile app, here you can navigate to different sections, search information with specific keywords, show and hide information like side-bars, questions, and answers, etc. This project was built with HTML, CSS, and JavaScript'
    },
    {
        es: 'Código',
        en: 'Code'
    },
    {
        es: 'Lista de Tareas',
        en: 'To-Do List'
    },
    {
        es: 'Lista de Tareas nos permite ir agregando tareas a una tabla la cual las clasifica como tareas terminadas y tareas incompletas y estas a su vez se en listan en un orden en el cual se posicionan las incompletas al inicio de la lista y las completas al final de esta. Este proyecto usó conceptos intermedios y avanzados de JavaScript como LocalStorage, Clases, objetos y métodos, eventos y diversos métodos de arreglos, además de HTML y CSS.',
        en: 'To-Do List enables us to add some tasks in a table, which one tries to sort out these tasks like done tasks and undone tasks, positioning the undone tasks at the beginning and the done tasks at the end of the table. This project use intermediate and advanced JavaScript concepts like LocalStorage, Class, Objects, and Methods (OOP), events and different array methods, besides being used HTML and CSS'
    },
    {
        es: 'Ver mas',
        en: 'See more'
    },
    {
        es: 'Ver menos',
        en: 'See less'
    },
    {
        es: 'El proyecto ideal es aquel que siempre se puede mejorar',
        en: 'The perfect project is the one you can always do better'
    },
];

//Get Selector Language
const selector = document.querySelector('.display-language');
selector.addEventListener('click', function(e) {    
    selector.classList.toggle('display-on');
});

//Get the list of languages availables
const listLanguages = document.querySelector('.list-languages').children;
const arrayList = Array.prototype.slice.call(listLanguages);
arrayList.forEach((language) => (
    updateSelectValue(language) //Function to update our Select value
));

function updateSelectValue(language) {
    language.addEventListener('click', function() {
        //Get the language Code ('es', 'en', etc)
        const langCode = language.id;

        const lang = language.querySelector('.language-option').textContent;
        const flag = language.querySelector('.flag-image').src;
        
        const selectedLang = selector.querySelector('.selected-lang');
        const selectedFlag = selector.querySelector('.selected-flag');

        selectedLang.textContent = lang;
        selectedFlag.src = flag;

        findTextContentInLangStrings(langCode);
    });
}

function findTextContentInLangStrings(langCode) {
    //Get all elements with text
    const textContent =  document.querySelectorAll('[data-text]')

    textContent.forEach((element) => {
        //Get the lang object that has the text that our for each is running
        const langObject = langStrings.find((langObject) => {
            const stringValues = Object.values(langObject);

            return stringValues.includes(element.textContent);
        });

        translateTextContent(element, langObject, langCode);
    });
}

function translateTextContent(element, langObject, langCode) {
    if(element.children.length > 0) {
        const iconElement = [...element.children];
        element.textContent = '';
        element.append(iconElement[0], langObject[langCode]);
    } else {
        element.textContent = langObject[langCode];
    }
}